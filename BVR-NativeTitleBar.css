/* BETTER VISUAL REFRESH - Native Title Bar edition - by Yae Mica.
   Restores the layout of the old UI to most areas of the new "Visual Refresh" UI without 
   breaking stuffs.

   Special thanks to the Vencord community server for these snippets. 
   Feel free to adjust to your liking. 

   Usage: Add the following line to THE TOP your QuickCSS 
   @import url("https://raw.githubusercontent.com/YMica-OSE/BetterVisualRefresh/refs/heads/main/BVR-NativeTitleBar.css");
   or add the URL to Online themes in Vencord settings.
   If you want to modify the contents, either copy this entire file to QuickCSS, 
   or fork this repository and change the import link to yours.

   Be sure to give it a read first so you know what's gonna happen. */

/* Neccesary imports (MUST BE BEFORE ANY CSS CODE) */
@import url("https://raw.githubusercontent.com/YMica-OSE/BetterVisualRefresh/refs/heads/main/BVR-Core.css");
@import url("https://raw.githubusercontent.com/surgedevs/visual-refresh-compact-title-bar/refs/heads/main/browser.css"); /* (!) */

/* ========== AREA: TOP BARS (NTB specific) ========== */

/* Remove the help button */
[class^=bar] {
	> [class^=trailing] {
		> a[href="https://support.discord.com"] { /* " */
			display: none;
		}
	}
}

/* No top bar new UI (2nd import + this below) [surgedevs & me] */
:root {
	--vr-header-snippet-server-padding: 0px !important;
	--vr-header-snippet-space: 70px; /* Padding for the RHST. */
}
.platform-win, .platform-linux, .platform-web {
	/* Controls the space above the DMs/Discord icon button for other platforms. 
	   12px was the size on the old UI 
	   The reason why we are doing this instead of the variable is because doing 
	   so creates a top gap when you scroll up. */
	div[class^=tutorialContainer]:first-of-type {
		margin-top: 10px !important;
	}
}
.platform-osx { /* Control for macOS clients to account for the "traffic lights" */
	div[class^=tutorialContainer]:first-of-type {
		margin-top: 32px !important;
	}
	div[class^=mention] {
		margin-top: 32px;
	}
}
div[class^=trailing] {
	/* IH buttons without the built-in window buttons to it will look sticked to the right
	   Remove this padding if you keep the window buttons */
	padding-right: 12px;
}
div:[class^=searchBar] {
	/* Alignment fix for search bar in Discover tab */
	position: relative;
	right: 80px;
}
/* Rounded corner elimination for top bars */
div[class^=notice] {
	border-radius: 0px; 
}
has(.container__01ae2) { /* container__01ae2 = side chat */
	/* Positioning for the RHST and IH buttons when side chat is opened (threads/VC chat) [still me] */
	.container__9293f {
		padding-right: 24px !important;
	}
	[class^=toolbar] {
		padding-right: 0px !important;
	}
	[class^=tutorialContainer] {
		right: 40px !important;
	}
	.container__01ae2 {
		.children__9293f {
			margin-right: 100px;
		}
	}
}
has(.button__85643[aria-label="Update Ready!"]) {
	/* Account spacing of the RHST when there's the "Update Now!" button [me] */
	.toolbar__9293f {
		padding-right: 46px;
	}
}
has(.container__01ae2):has(.iconWrapper__9293f[aria-label="More"]) { 
	/* Side chat with the "More" (...) button */
	.trailing_c38106 {
		right: 80px !important;
	}
}
has(.container__01ae2):has(.iconWrapper__9293f[aria-label="Notification Settings"]) { 
	/* Side chat with the "Notification Settings" (...) button (currently does not work) */
	.trailing_c38106 {
		right: 120px !important;
	}
}
div:has(div[class^=returnButton]) {
	/* Account for the Channel select page */
	.bar_c38106 {
		position: relative !important;
		top: 12px !important;
	}
}
div:has(div[class^=notice_]) {
	/* Top padding for when the top banner shows */
	.trailing_c38106 {
		top: 38px;
	}
}

/* Remove built-in window buttons on clients. For use with native titlebar and browser.css [me] */
div[class^=winButtons] {
	display: none !important;
}

/* Remove the rounded corner on top left of the channel list panel [me]
   (use when combined with removing top bar and using native title bar, or on web) */
.sidebarListRounded_c48ade { /* Why does [class^=sidebarListRounded] not work? */
	border-top-left-radius: 0px;
	[class^=header] {
		border-top-left-radius: 0px;
	}
}
